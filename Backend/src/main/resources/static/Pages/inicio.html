<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Bibliogest - Inicio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="icon" href="../Assets/Icons/favicon.svg" />
</head>
<body>

  <main class="main-container">
    <!-- Hero Section -->
    <div class="hero-section">
      <p class="title">Bienvenido a Bibliogest</p>
      <h1>Tu gestor de bibliotecas mÃ¡s confiable</h1>
      <p class="text">Un espacio dedicado al conocimiento, la cultura y la educaciÃ³n. AquÃ­ encontrarÃ¡s acceso a miles de libros, recursos digitales y servicios pensados para apoyar tu aprendizaje e investigaciÃ³n. Explora nuestro catÃ¡logo en lÃ­nea y descubre todo lo que la biblioteca tiene para ofrecerte. Â¡Tu puerta al mundo del saber!</p>
    </div>
    
    <div class="fondo"></div>

    <!-- SecciÃ³n: Â¿QuÃ© es Bibliogest? -->
    <section class="section">
      <h2>Â¿QuÃ© es Bibliogest?</h2>
      <p>Bibliogest es una plataforma diseÃ±ada para facilitar la gestiÃ³n de bibliotecas y el acceso a recursos digitales.</p>
      <p>Ofrecemos un catÃ¡logo en lÃ­nea, herramientas de bÃºsqueda avanzada y servicios personalizados para mejorar tu experiencia de usuario.</p>
    </section>
  
  <!-- SecciÃ³n de Libros Aleatorios -->
    <section class="libros-aleatorios-section">
      <h2>ğŸ“š Descubre nuestra colecciÃ³n</h2>
      <div id="libros-container" class="libros-container">
        <!-- Los libros se cargarÃ¡n dinÃ¡micamente aquÃ­ -->
      </div>
    </section>

    <!-- SecciÃ³n de Recursos Digitales -->
    <section class="section">
      <h2>Explora nuestros recursos digitales</h2>
      <p class="text-muted">Accede a contenidos seleccionados y herramientas Ãºtiles desde cualquier lugar</p>

      <div class="card-container">
        <div class="card">
          <img src="https://cdn-icons-png.flaticon.com/512/2991/2991108.png" alt="Recursos">
          <h3>Recursos destacados</h3>
          <p>Accede a una selecciÃ³n de libros, artÃ­culos y documentos recomendados por nuestro equipo.</p>
        </div>

        <div class="card">
          <img src="https://cdn-icons-png.flaticon.com/512/2917/2917995.png" alt="GuÃ­as">
          <h3>GuÃ­as de uso</h3>
          <p>Aprende a buscar, consultar y gestionar tus prÃ©stamos con nuestras guÃ­as prÃ¡cticas paso a paso.</p>
        </div>

        <div class="card">
          <img src="https://cdn-icons-png.flaticon.com/512/3135/3135768.png" alt="Lectura">
          <h3>Sugerencias de lectura</h3>
          <p>Descubre nuevas lecturas basadas en tus intereses, hÃ¡bitos y novedades en el catÃ¡logo digital.</p>
        </div>
      </div>
    </section>

 

<!-- AGREGAR DESPUÃ‰S DE LA SECCIÃ“N "Â¿Por quÃ© usar Bibliogest?" -->

<!-- SecciÃ³n: EstadÃ­sticas de la Biblioteca -->
<section class="section stats-section">
  <h2>ğŸ“Š Nuestra biblioteca en nÃºmeros</h2>
  <p class="text-muted">Creciendo dÃ­a a dÃ­a para ofrecerte mÃ¡s contenido</p>
  
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon">ğŸ“š</div>
      <div class="stat-number" data-target="15000">0</div>
      <div class="stat-label">Total de Libros</div>
    </div>
    
    <div class="stat-card">
      <div class="stat-icon">ğŸ‘¥</div>
      <div class="stat-number" data-target="5420">0</div>
      <div class="stat-label">Usuarios activos</div>
    </div>
    
    <div class="stat-card">
      <div class="stat-icon">â­</div>
      <div class="stat-number" id="total-resenas" data-target="0">0</div>
      <div class="stat-label">ReseÃ±as escritas</div>
    </div>
    
    <div class="stat-card">
      <div class="stat-icon">ğŸ¯</div>
      <div class="stat-number" data-target="95">0</div>
      <div class="stat-label">% SatisfacciÃ³n</div>
    </div>
  </div>
</section>

<!-- SecciÃ³n: GÃ©neros mÃ¡s populares -->
<section class="section generos-section">
  <h2>ğŸ­ Explora por gÃ©nero</h2>
  <p class="text-muted">Encuentra tu prÃ³xima lectura favorita</p>
  
  <div class="generos-grid">
    <div class="genero-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
      <div class="genero-icon">Ï€</div>
      <h3>Matematica</h3>

    </div>
    
    <div class="genero-card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
      <div class="genero-icon">ğŸ’˜</div>
      <h3>Romance</h3>

    </div>
    
    <div class="genero-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
      <div class="genero-icon">ğŸ”</div>
      <h3>Literatura y misterio</h3>

    </div>
    
    <div class="genero-card" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
      <div class="genero-icon">ğŸ§ª</div>
      <h3>Ciencias puras</h3>

    </div>
    
    <div class="genero-card" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
      <div class="genero-icon">ğŸ¨</div>
      <h3>Arte</h3>

    </div>
    
    <div class="genero-card" style="background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);">
      <div class="genero-icon">ğŸ“–</div>
      <h3>Historia</h3>

    </div>
  </div>
</section>

<!-- SecciÃ³n de ReseÃ±as Reales -->
<section class="section testimonios-section">
  <h2>ğŸ’¬ Lo que dicen nuestros usuarios</h2>
  <p class="text-muted">Experiencias reales de nuestra comunidad</p>
  
  <div id="testimonios-grid" class="testimonios-grid">
    <!-- Las reseÃ±as se cargarÃ¡n dinÃ¡micamente aquÃ­ -->
    <div class="loading-testimonios">
      <div class="spinner"></div>
      <p>Cargando reseÃ±as...</p>
    </div>
  </div>
  
  <div class="ver-mas-container">
    <a href="resenas.html" class="ver-mas-btn">Ver todas las reseÃ±as</a>
  </div>
</section>

<!-- SecciÃ³n: Novedades y Eventos -->
<section class="section eventos-section">
  <h2>ğŸ“… PrÃ³ximos eventos y novedades</h2>
  <p class="text-muted">No te pierdas nuestras actividades culturales</p>
  
  <div class="eventos-grid">
    <div class="evento-card">
      <div class="evento-fecha">
        <span class="fecha-dia">Viernes</span>
        <span class="fecha-mes">12 Pm</span>
      </div>
      <div class="evento-info">
        <h3>Club de INEMUN</h3>
        <p>Ãšnete a nuestra discusiÃ³n sobre temas actuales. Todos los niveles bienvenidos.</p>
        <span class="evento-tag">Gratuito</span>
      </div>
    </div>
    
    <div class="evento-card">
      <div class="evento-fecha">
        <span class="fecha-dia">Diario</span>
        <span class="fecha-mes">12 Pm</span>
      </div>
      <div class="evento-info">
        <h3>Karaoke</h3>
        <p>Disfruta de un rato agradable cantando con amigos y desconocidos.</p>
        <span class="evento-tag">Presencial</span>
      </div>
    </div>
    
    <div class="evento-card">
      <div class="evento-fecha">
        <span class="fecha-dia">Lunes</span>
        <span class="fecha-mes">12 Nov</span>
      </div>
      <div class="evento-info">
        <h3>Evento de Freestyle</h3>
        <p>Presencia y participa en un torneo de freestyle, demuestra tus habilidades de improvisacion.</p>
        <span class="evento-tag">Presencial</span>
        <span class="evento-tag">Inscripcion</span>
      </div>
    </div>
  </div>
</section>

<!-- SecciÃ³n: FAQ -->
<section class="section faq-section">
  <h2>â“ Preguntas frecuentes</h2>
  <p class="text-muted">Respuestas rÃ¡pidas a las dudas mÃ¡s comunes</p>
  
  <div class="faq-container">
    <div class="faq-item">
      <div class="faq-question">
        <span>Â¿Hay que pagar para prestar un libro?</span>
        <span class="faq-icon">+</span>
      </div>
      <div class="faq-answer">
       Para nada, el servicio de prÃ©stamo de libros es completamente gratuito para todos los usuarios registrados en nuestra plataforma. Solo necesitas tener una cuenta activa y cumplir con las polÃ­ticas de prÃ©stamo establecidas.
      </div>
    </div>
    
    <div class="faq-item">
      <div class="faq-question">
        <span>Â¿CuÃ¡ntos libros puedo tener prestados al mismo tiempo?</span>
        <span class="faq-icon">+</span>
      </div>
      <div class="faq-answer">
        Puedes tener hasta 1 libro prestado en fisico. El perÃ­odo de prÃ©stamo es de 15 dÃ­as para la devolucion, o puedes renovar la reserva.
      </div>
    </div>
    
    <div class="faq-item">
      <div class="faq-question">
        <span>Â¿Puedo acceder desde mi dispositivo mÃ³vil?</span>
        <span class="faq-icon">+</span>
      </div>
      <div class="faq-answer">
        No, Por el momento nuestra plataforma no esta disponible para disposirivos smartphones y tablets. Sin embargo, estamos en proceso de desarrollo de una pagina mÃ³vil que estarÃ¡ disponible prÃ³ximamente.
      </div>
    </div>
    
    <div class="faq-item">
      <div class="faq-question">
        <span>Â¿QuÃ© hago si un libro que busco no estÃ¡ disponible?</span>
        <span class="faq-icon">+</span>
      </div>
      <div class="faq-answer">
        Puedes escribirnos a traves de nuestro correo de contacto "bibliogest.notificatio@gmail.com" o redes sociales para solicitar la adquisiciÃ³n de nuevos tÃ­tulos. Hacemos nuestro mejor esfuerzo para satisfacer las solicitudes de nuestros usuarios.
      </div>
    </div>
  </div>
</section>

<!-- SecciÃ³n: Call to Action Final -->
<section class="section cta-final-section">
  <div class="cta-final-content">
    <h2>ğŸš€ Â¿Listo para comenzar tu aventura literaria?</h2>
    <p>Ãšnete a miles de lectores que ya disfrutan de nuestra plataforma</p>
    <div class="cta-buttons">
      <a href="directorio.html" class="cta-btn primary">Explorar el Catalogo</a>

    </div>
  </div>
</section>

<!-- CSS ADICIONAL PARA LAS NUEVAS SECCIONES -->


<!-- JavaScript para cargar reseÃ±as y estadÃ­sticas -->
<script>
// FunciÃ³n para animar un contador especÃ­fico
function animarContadorEspecifico(elemento) {
  const target = parseInt(elemento.getAttribute('data-target'));
  if (target === 0) return; // No animar si es 0
  
  const duration = 2000;
  const increment = target / (duration / 16);
  let current = 0;
  
  const updateCounter = () => {
    current += increment;
    if (current < target) {
      elemento.textContent = Math.floor(current).toLocaleString();
      requestAnimationFrame(updateCounter);
    } else {
      elemento.textContent = target.toLocaleString();
    }
  };
  
  updateCounter();
}

// Cargar reseÃ±as reales desde el backend
async function cargarResenasInicio() {
  const container = document.getElementById('testimonios-grid');
  
  try {
    const response = await fetch('http://localhost:8080/api/resenas');
    
    // Verificar si la respuesta es exitosa
    if (!response.ok) {
      throw new Error(`Error HTTP: ${response.status}`);
    }
    
    const resenas = await response.json();
    
    // Actualizar contador de reseÃ±as en estadÃ­sticas
    const totalResenas = document.getElementById('total-resenas');
    if (totalResenas) {
      totalResenas.setAttribute('data-target', resenas.length);
      // Animar el contador despuÃ©s de actualizar el valor
      animarContadorEspecifico(totalResenas);
    }
    
    // Ordenar por fecha mÃ¡s reciente y tomar solo las 3 primeras
    const resenasRecientes = resenas
      .sort((a, b) => new Date(b.fecha) - new Date(a.fecha))
      .slice(0, 3);
    
    if (resenasRecientes.length === 0) {
      container.innerHTML = `
        <div class="loading-testimonios">
          <p style="color: var(--color-text-muted);">AÃºn no hay reseÃ±as. Â¡SÃ© el primero en compartir tu opiniÃ³n!</p>
        </div>
      `;
      return;
    }
    
    // Generar HTML de las reseÃ±as
    container.innerHTML = resenasRecientes.map(resena => {
      const estrellas = 'â­'.repeat(resena.calificacion);
      const iniciales = resena.usuario.nombre.split(' ')
        .map(n => n[0])
        .join('')
        .toUpperCase()
        .substring(0, 2);
      
      const fecha = new Date(resena.fecha);
      const fechaFormateada = fecha.toLocaleDateString('es-ES', { 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
      });
      
      return `
        <div class="testimonio-card">
          <div class="testimonio-stars">${estrellas}</div>
          <p class="testimonio-texto">"${resena.contenido}"</p>
          <div class="testimonio-autor">
            <div class="autor-avatar">${iniciales}</div>
            <div>
              <p class="autor-nombre">${resena.usuario.nombre}</p>
              <p class="autor-fecha">${fechaFormateada}</p>
            </div>
          </div>
        </div>
      `;
    }).join('');
    
  } catch (error) {
    console.error('Error al cargar reseÃ±as:', error);
    container.innerHTML = `
      <div class="loading-testimonios">
        <p style="color: var(--color-text-muted);">No se pudieron cargar las reseÃ±as. Intenta mÃ¡s tarde.</p>
      </div>
    `;
  }
}

// AnimaciÃ³n de contadores en estadÃ­sticas
function animateStats() {
  const statNumbers = document.querySelectorAll('.stat-number');
  
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const target = parseInt(entry.target.getAttribute('data-target'));
        
        // Saltar el contador de reseÃ±as ya que se anima despuÃ©s de cargar
        if (entry.target.id === 'total-resenas') {
          observer.unobserve(entry.target);
          return;
        }
        
        const duration = 2000;
        const increment = target / (duration / 16);
        let current = 0;
        
        const updateCounter = () => {
          current += increment;
          if (current < target) {
            entry.target.textContent = Math.floor(current).toLocaleString();
            requestAnimationFrame(updateCounter);
          } else {
            entry.target.textContent = target.toLocaleString();
            if (target === 95) {
              entry.target.textContent = target + '%';
            }
          }
        };
        
        updateCounter();
        observer.unobserve(entry.target);
      }
    });
  }, { threshold: 0.5 });
  
  statNumbers.forEach(stat => observer.observe(stat));
}

// FAQ Toggle
function inicializarFAQ() {
  const faqItems = document.querySelectorAll('.faq-item');
  
  faqItems.forEach(item => {
    const question = item.querySelector('.faq-question');
    
    question.addEventListener('click', () => {
      faqItems.forEach(otherItem => {
        if (otherItem !== item && otherItem.classList.contains('active')) {
          otherItem.classList.remove('active');
        }
      });
      
      item.classList.toggle('active');
    });
  });
}

// Inicializar todo cuando el DOM estÃ© listo
document.addEventListener('DOMContentLoaded', () => {
  cargarResenasInicio();
  animateStats();
  inicializarFAQ();
});
</script>

  <!-- Integraciones con js -->
  
  <!-- IntegraciÃ³n de slidebar -->
  <script src="../Js/slidebar.js"></script>
  
  <!-- IntegraciÃ³n de footer (oculto por CSS) -->
  <div id="footer-container"></div>
  <script src="../Js/include-footer.js"></script>
  
  <!-- IntegraciÃ³n de header -->
  <script src="../Js/include-header.js"></script>
  
  <!-- SweetAlert2 para modales -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  
  <!-- Script de libros aleatorios -->
  <script src="../Js/libros-aleatorios.js"></script>
  <script src="../Js/datos-curiosos.js"></script>

  </main>
</body>
</html>